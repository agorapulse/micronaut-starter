@import io.micronaut.starter.application.Project

@args (
Project project
)

@if (project.getPackageName() != null) {
package @project.getPackageName();

}

import com.agorapulse.worker.annotation.Cron;
import jakarta.inject.Singleton;

@@Singleton
public class EmailDigestSimpleJob {

    private int emailsSent;

    @@Cron("45 6 * * *")
    public void sendDigestEmail() {
        emailsSent++;
        System.out.println("Emails has been sent at 6:45");
    }

    public int getEmailsSent() {
        return emailsSent;
    }

}